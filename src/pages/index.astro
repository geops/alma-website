<script>
  import { i18n } from "astro:config/client";

  const browserLanguage = navigator.language.split("-")[0];

  if (i18n?.locales.includes(browserLanguage)) {
    // Redirect to preferred browser language if available
    window.location.href = `/${browserLanguage}`;
  } else {
    // Fallback to default locale
    window.location.href = `/${i18n?.defaultLocale}`;
  }
</script>
